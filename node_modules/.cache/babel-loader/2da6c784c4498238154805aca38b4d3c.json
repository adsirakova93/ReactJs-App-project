{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adsir\\\\OneDrive\\\\Desktop\\\\REACTJS\\\\ReacrJsApp\\\\E-store\\\\src\\\\pages\\\\Cart.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/exhaustive-deps */\n// import { Add, Remove } from '@material-ui/icons'\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport CartItem from \"../components/CartItem\";\nimport LowerAnnouncement from \"../components/LowerAnnouncement\";\nimport Navbar from \"../components/Navbar\";\nimport UpperAnnouncement from \"../components/UpperAnnouncement\";\nimport Newsletter from \"../components/Newsletter\";\nimport Footer from \"../components/Footer\";\nimport { medium, large } from \"../responsive\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport { useHistory } from \"react-router\";\nimport { ToastContainer, Toast } from \"react-bootstrap\"; // import { userRequest } from '../axiosMethods'\n\nimport axios from \"axios\"; // const KEY=process.env.REACT_APP_STRIPE\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Maincontainer = styled.div`\n  background-color: whitesmoke;\n`;\n_c = Maincontainer;\nconst TopButtons = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 2rem 8rem;\n  ${medium({\n  margin: \"2rem 1rem\"\n})}\n`;\n_c2 = TopButtons;\nconst Container = styled.div`\n  margin: 2rem 8rem;\n  display: flex;\n  gap: 2rem;\n  ${large({\n  margin: \"2rem 1rem\",\n  gap: \"0\"\n})}\n  ${medium({\n  flexDirection: \"column\"\n})}\n`;\n_c3 = Container;\nconst Button = styled.button`\n  border: none;\n  background-color: black;\n  color: white;\n  padding: 10px;\n  cursor: pointer;\n  margin: 1rem;\n\n  &:hover {\n    background-color: white;\n    border: 2px solid black;\n    color: black;\n  }\n`;\n_c4 = Button;\nconst OrderContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n  width: 75%;\n  height: 100%;\n  gap: 2rem;\n  ${medium({\n  width: \"100%\"\n})}\n`;\n_c5 = OrderContainer;\nconst SummaryContainer = styled.div`\n  background-color: white;\n  padding: 18px;\n  width: 25%;\n  height: 100%;\n  ${medium({\n  width: \"100%\"\n})}\n`;\n_c6 = SummaryContainer;\nconst SummaryLine = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1rem;\n`;\n_c7 = SummaryLine;\nexport default function Cart() {\n  _s();\n\n  const cart = useSelector(state => state.cart);\n  const [stripeToken, setStripeToken] = useState(null);\n  const history = useHistory();\n  const user = useSelector(state => state.user);\n  const dispatch = useDispatch();\n  const [alert, setAlert] = useState(false);\n\n  const onToken = token => {\n    console.log(token);\n    setStripeToken(token);\n  };\n\n  useEffect(() => {\n    const makeRequest = async () => {\n      try {\n        console.log(cart.total);\n        const res = await axios.post(\"https://e-store.com/checkout/payment\", {\n          tokenId: stripeToken.id,\n          amount: 500\n        }, {\n          headers: {\n            token: user.currentUser.token\n          }\n        });\n        dispatch({\n          type: \"emptyCart\"\n        });\n        history.push(\"/success\", {\n          stripeData: res.data,\n          products: cart\n        });\n      } catch {}\n    };\n\n    stripeToken && makeRequest();\n  }, [stripeToken]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"bottom-end\",\n      children: /*#__PURE__*/_jsxDEV(Toast, {\n        bg: \"danger\",\n        style: {\n          width: \"15rem\",\n          height: \"3rem\",\n          padding: \"5px\"\n        },\n        onClose: () => setAlert(false),\n        show: alert,\n        delay: 3000,\n        autohide: true,\n        children: \"Please Log in to proceed to checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Maincontainer, {\n      children: [/*#__PURE__*/_jsxDEV(UpperAnnouncement, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LowerAnnouncement, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TopButtons, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/products\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(Button, {\n              children: \"Continue To Shop\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Your Bag\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: cart.products.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(OrderContainer, {\n            children: /*#__PURE__*/_jsxDEV(CartItem, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SummaryContainer, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"SUMMARY\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SummaryLine, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"SubTotal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\" $\", cart.total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SummaryLine, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Shipping\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \" $5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SummaryLine, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Shipping Discount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \" - $5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SummaryLine, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\" $\", cart.total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: user.currentUser ? /*#__PURE__*/_jsxDEV(StripeCheckout, {\n                name: \"E-store\",\n                image: \"https://source.unsplash.com/yd3mg93Smn8\",\n                billingAddress: true,\n                shippingAddress: true,\n                description: `Your Cart Total is $ ${cart.total}`,\n                amount: cart.total * 100,\n                token: onToken,\n                stripeKey: \"pk_test_51JpnsFSJXTWe5Zf11N05XLzTKIGjBGK5H030E43f2cOWiJnaGM6fXqHt7FMEqLEs6BqbjZosPSLxGWgblW8V04CU00CSqFgR2n\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  children: \"Checkout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => {\n                    setAlert(true);\n                  },\n                  children: \"checkOut\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: \"red\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"IMP Note:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Please use the below credentials to checkout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"card number: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"4242424242424242\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 34\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Expiry:\", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \" 02/22 or any future dates \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 28\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"CVV: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"222 or any three digit number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 26\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              width: \"100%\"\n            },\n            children: \"Your Bag is empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this)\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Newsletter, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Cart, \"S6jad2KvohiOLZi1hynkI/HkvgY=\", false, function () {\n  return [useSelector, useHistory, useSelector, useDispatch];\n});\n\n_c8 = Cart;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"Maincontainer\");\n$RefreshReg$(_c2, \"TopButtons\");\n$RefreshReg$(_c3, \"Container\");\n$RefreshReg$(_c4, \"Button\");\n$RefreshReg$(_c5, \"OrderContainer\");\n$RefreshReg$(_c6, \"SummaryContainer\");\n$RefreshReg$(_c7, \"SummaryLine\");\n$RefreshReg$(_c8, \"Cart\");","map":{"version":3,"sources":["C:/Users/adsir/OneDrive/Desktop/REACTJS/ReacrJsApp/E-store/src/pages/Cart.jsx"],"names":["React","useState","useEffect","styled","CartItem","LowerAnnouncement","Navbar","UpperAnnouncement","Newsletter","Footer","medium","large","useSelector","useDispatch","Link","StripeCheckout","useHistory","ToastContainer","Toast","axios","Maincontainer","div","TopButtons","margin","Container","gap","flexDirection","Button","button","OrderContainer","width","SummaryContainer","SummaryLine","Cart","cart","state","stripeToken","setStripeToken","history","user","dispatch","alert","setAlert","onToken","token","console","log","makeRequest","total","res","post","tokenId","id","amount","headers","currentUser","type","push","stripeData","data","products","height","padding","length","color","textAlign"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\n// import { Add, Remove } from '@material-ui/icons'\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport CartItem from \"../components/CartItem\";\nimport LowerAnnouncement from \"../components/LowerAnnouncement\";\nimport Navbar from \"../components/Navbar\";\nimport UpperAnnouncement from \"../components/UpperAnnouncement\";\nimport Newsletter from \"../components/Newsletter\";\nimport Footer from \"../components/Footer\";\nimport { medium, large } from \"../responsive\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport { useHistory } from \"react-router\";\nimport { ToastContainer, Toast } from \"react-bootstrap\";\n// import { userRequest } from '../axiosMethods'\nimport axios from \"axios\";\n\n// const KEY=process.env.REACT_APP_STRIPE\n\nconst Maincontainer = styled.div`\n  background-color: whitesmoke;\n`;\n\nconst TopButtons = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 2rem 8rem;\n  ${medium({ margin: \"2rem 1rem\" })}\n`;\nconst Container = styled.div`\n  margin: 2rem 8rem;\n  display: flex;\n  gap: 2rem;\n  ${large({ margin: \"2rem 1rem\", gap: \"0\" })}\n  ${medium({ flexDirection: \"column\" })}\n`;\n\nconst Button = styled.button`\n  border: none;\n  background-color: black;\n  color: white;\n  padding: 10px;\n  cursor: pointer;\n  margin: 1rem;\n\n  &:hover {\n    background-color: white;\n    border: 2px solid black;\n    color: black;\n  }\n`;\nconst OrderContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n  width: 75%;\n  height: 100%;\n  gap: 2rem;\n  ${medium({ width: \"100%\" })}\n`;\nconst SummaryContainer = styled.div`\n  background-color: white;\n  padding: 18px;\n  width: 25%;\n  height: 100%;\n  ${medium({ width: \"100%\" })}\n`;\n\nconst SummaryLine = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1rem;\n`;\n\nexport default function Cart() {\n  const cart = useSelector((state) => state.cart);\n  const [stripeToken, setStripeToken] = useState(null);\n  const history = useHistory();\n  const user = useSelector((state) => state.user);\n  const dispatch = useDispatch();\n  const [alert, setAlert] = useState(false);\n  const onToken = (token) => {\n    console.log(token);\n    setStripeToken(token);\n  };\n\n  useEffect(() => {\n    const makeRequest = async () => {\n      try {\n        console.log(cart.total);\n        const res = await axios.post(\n          \"https://e-store.com/checkout/payment\",\n          {\n            tokenId: stripeToken.id,\n            amount: 500,\n          },\n          {\n            headers: {\n              token: user.currentUser.token,\n            },\n          }\n        );\n        dispatch({ type: \"emptyCart\" });\n        history.push(\"/success\", {\n          stripeData: res.data,\n          products: cart,\n        });\n      } catch {}\n    };\n    stripeToken && makeRequest();\n  }, [stripeToken]);\n\n  return (\n    <>\n      <ToastContainer position=\"bottom-end\">\n        <Toast\n          bg={\"danger\"}\n          style={{ width: \"15rem\", height: \"3rem\", padding: \"5px\" }}\n          onClose={() => setAlert(false)}\n          show={alert}\n          delay={3000}\n          autohide\n        >\n          Please Log in to proceed to checkout\n        </Toast>\n      </ToastContainer>\n      <Maincontainer>\n        <UpperAnnouncement />\n        <Navbar />\n        <LowerAnnouncement />\n        <TopButtons>\n          <div>\n            <Link to=\"/products\">\n              {\" \"}\n              <Button>Continue To Shop</Button>\n            </Link>\n          </div>\n          <div>\n            <h1>Your Bag</h1>\n          </div>\n          <div></div>\n        </TopButtons>\n        <Container>\n          {cart.products.length > 0 ? (\n            <>\n              <OrderContainer>\n                <CartItem />\n              </OrderContainer>\n              <SummaryContainer>\n                <div>\n                  <h3>SUMMARY</h3>\n                </div>\n                <SummaryLine>\n                  <div>SubTotal</div>\n                  <div> ${cart.total}</div>\n                </SummaryLine>\n                <SummaryLine>\n                  <div>Shipping</div>\n                  <div> $5</div>\n                </SummaryLine>\n                <SummaryLine>\n                  <div>Shipping Discount</div>\n                  <div> - $5</div>\n                </SummaryLine>\n                <SummaryLine>\n                  <div>Total</div>\n                  <div> ${cart.total}</div>\n                </SummaryLine>\n                <div>\n                  {user.currentUser ? (\n                    <StripeCheckout\n                      name=\"E-store\"\n                      image=\"https://source.unsplash.com/yd3mg93Smn8\"\n                      billingAddress\n                      shippingAddress\n                      description={`Your Cart Total is $ ${cart.total}`}\n                      amount={cart.total * 100}\n                      token={onToken}\n                      stripeKey=\"pk_test_51JpnsFSJXTWe5Zf11N05XLzTKIGjBGK5H030E43f2cOWiJnaGM6fXqHt7FMEqLEs6BqbjZosPSLxGWgblW8V04CU00CSqFgR2n\"\n                    >\n                      <Button>Checkout</Button>\n                    </StripeCheckout>\n                  ) : (\n                    <>\n                      <Button\n                        onClick={() => {\n                          setAlert(true);\n                        }}\n                      >\n                        checkOut\n                      </Button>\n                    </>\n                  )}\n                </div>\n                <div style={{ color: \"red\" }}>\n                  <p>IMP Note:</p>\n                  <p>Please use the below credentials to checkout</p>\n                  <p>\n                    card number: <b>4242424242424242</b>\n                  </p>\n                  <p>\n                    Expiry:<b> 02/22 or any future dates </b>\n                  </p>\n                  <p>\n                    CVV: <b>222 or any three digit number</b>\n                  </p>\n                </div>\n              </SummaryContainer>\n            </>\n          ) : (\n            <>\n              <h2 style={{ textAlign: \"center\", width: \"100%\" }}>\n                Your Bag is empty\n              </h2>\n            </>\n          )}\n        </Container>\n\n        <Newsletter />\n        <Footer />\n      </Maincontainer>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}